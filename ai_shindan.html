<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>おすすめAI診断</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif;background:#0b0f17;color:#e9eef7;margin:0}
    .wrap{max-width:560px;margin:0 auto;padding:20px}
    .card{background:#131b2a;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:18px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .top{display:flex;gap:10px;align-items:center;margin-bottom:12px}
    .badge{font-size:12px;padding:4px 8px;border-radius:999px;background:rgba(255,255,255,.08)}
    h1{font-size:18px;margin:0}
    .q{font-size:18px;line-height:1.5;margin:14px 0 12px}
    .btns{display:grid;gap:10px}
    button{border:none;border-radius:12px;padding:12px 12px;font-size:15px;cursor:pointer;background:#22314f;color:#e9eef7}
    button:hover{filter:brightness(1.1)}
    .row{display:flex;gap:10px;margin-top:14px}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,.18)}
    .progress{height:8px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden;margin-top:12px}
    .bar{height:100%;width:0%;background:#6aa7ff}
    .fade{animation:fade .18s ease}
    @keyframes fade{from{opacity:.2;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
    a.cta{display:block;text-align:center;text-decoration:none;margin-top:12px;padding:12px;border-radius:12px;background:#2f7dff;color:#fff;font-weight:700}
    .small{font-size:12px;color:rgba(233,238,247,.75);margin-top:10px;line-height:1.6}
    .resultTitle{font-size:18px;margin:0 0 8px}
    .resultType{font-size:16px;margin:0 0 10px;color:#9fc2ff}
    .pill{display:inline-block;margin-top:6px;font-size:12px;padding:4px 8px;border-radius:999px;background:rgba(255,255,255,.08)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card fade" id="card">
      <div class="top">
        <div class="badge" id="stepBadge">Q1/5</div>
        <h1>あなたの隠れた性格でわかる！おすすめAI診断</h1>
      </div>
      <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
      <div class="q" id="question"></div>
      <div class="btns" id="choices"></div>
      <div class="row">
        <button class="ghost" id="backBtn" type="button">戻る</button>
        <button class="ghost" id="resetBtn" type="button">最初から</button>
      </div>
      <div class="small">※占いじゃなくて実務ベース。刺さったらそれが正解。</div>
    </div>
  </div>

<script>
  // ===== 設定 =====
  const LINE_URL = "https://lin.ee/6jmZmPJ"; // 

  const questions = [
    {
      text: "仕事で「これAIにやらせたいな」と思った瞬間は？",
      choices: [
        { label: "A. そもそも思ったことがない", score: { A:1 } },
        { label: "B. 思ったけど結局やってない", score: { B:1 } },
        { label: "C. たまに思って調べるけど途中でやめる", score: { C:1 } },
        { label: "D. 普段から割と任せている", score: { D:1 } },
      ]
    },
    {
      text: "ChatGPTなどのAIツールを開く頻度は？",
      choices: [
        { label: "A. 開いたことがない／入れてない", score: { A:1 } },
        { label: "B. 登録しただけで眠ってる", score: { B:1 } },
        { label: "C. 困ったときに思い出して使う", score: { C:1 } },
        { label: "D. 仕事や作業のルーティンに入っている", score: { D:1 } },
      ]
    },
    {
      text: "AIに何か頼むときの状態は？",
      choices: [
        { label: "A. 何を聞けばいいか分からない", score: { A:1 } },
        { label: "B. とりあえず思いつきで聞く", score: { B:1 } },
        { label: "C. 毎回違う聞き方をしている", score: { C:1 } },
        { label: "D. ある程度決まった聞き方がある", score: { D:1 } },
      ]
    },
    {
      text: "AIの回答を見たときの感想は？",
      choices: [
        { label: "A. 『なんか怖い』『よく分からん』", score: { A:1 } },
        { label: "B. 『便利そうやけど使い道が謎』", score: { B:1 } },
        { label: "C. 『惜しい…もう一歩』", score: { C:1 } },
        { label: "D. 『まあまあ使えるな』", score: { D:1 } },
      ]
    },
    {
      text: "AIを使う目的として一番近いのは？",
      choices: [
        { label: "A. 目的自体がまだない", score: { A:1 } },
        { label: "B. 楽できそうだから", score: { B:1 } },
        { label: "C. 仕事に使えたらいいなと思っている", score: { C:1 } },
        { label: "D. 効率や精度をもっと上げたい", score: { D:1 } },
      ]
    }
  ];

  const resultMap = {
    A: {
      type: "未体験タイプ",
      comment:
`診断ありがとうございます！

今の状況を見ると、AIはまだほとんど触っていない状態ですね。
実はここが一番伸びやすいポイントです。

最初は難しいことをする必要はなくて、
・文章を少し整える
・調べ物を早くする
この2つだけでも仕事がかなり楽になります。

まずは「仕事の中で1つだけ」AIに任せるところを決めるのが最短ルートです。

アポに繋がる一言→もしよければ、今の仕事に合う「最初の1タスク」だけ一緒に決めますよ。`
    },
    B: {
      type: "触っただけタイプ",
      comment:
`診断ありがとうございます！

AIは触ったことがあるけど、
「結局どう使えばいいか分からない」
という状態に近いですね。

このタイプの方は、使い方ではなく
「使う場面」が決まっていないことが多いです。

毎回ゼロから聞くのではなく、
同じ作業を同じ聞き方で使うだけで一気に楽になります。

アポに繋がる一言→今の仕事に合わせて、使い回せる聞き方を1つ作るとかなり変わりますよ。`
    },
    C: {
      type: "迷子タイプ",
      comment:
`診断ありがとうございます！

今は「AIで何ができるか分からない」状態ですね。
これは珍しくなくて、かなり多いです。

AIは万能ではないので、
全部やろうとすると逆に使えなくなります。

大事なのは
「これはAIに任せる、これは人がやる」
を分けることです。

アポに繋がる一言→仕事の中で「AIに任せた方がいい部分」だけ整理すると一気に見えてきます。`
    },
    D: {
      type: "活用途中タイプ",
      comment:
`診断ありがとうございます！

すでにAIはある程度使えていますね。
次の壁は「精度」と「安定感」です。

この段階では、
・聞き方のクセ
・情報の与え方
ここで差が出てきます。

少し調整するだけで、
アウトプットの質がかなり変わります。

アポに繋がる一言→今の使い方を少し直すだけで、精度が上がる可能性高いです。`
    }
  };

  // tie時は前段階優先: D > C > B > A ではなく、前段階（初心者側）優先なので A→B→C→D
  const tiePriority = ["A","B","C","D"];

  // ===== ロジック =====
  let idx = 0;
  const answers = []; // "A"|"B"|"C"|"D"

  const elQ = document.getElementById("question");
  const elC = document.getElementById("choices");
  const elBadge = document.getElementById("stepBadge");
  const elBar = document.getElementById("bar");
  const card = document.getElementById("card");
  const backBtn = document.getElementById("backBtn");
  const resetBtn = document.getElementById("resetBtn");

  function setFade() {
    card.classList.remove("fade");
    void card.offsetWidth;
    card.classList.add("fade");
  }

  function render() {
    setFade();

    // progress
    elBadge.textContent = `Q${Math.min(idx+1, questions.length)}/${questions.length}`;
    elBar.style.width = `${Math.min((idx)/questions.length*100, 100)}%`;

    backBtn.disabled = idx === 0;
    backBtn.style.opacity = idx === 0 ? .5 : 1;

    if (idx < questions.length) {
      const q = questions[idx];
      elQ.textContent = q.text;
      elC.innerHTML = "";
      q.choices.forEach((choice, cIndex) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.textContent = choice.label;
        btn.onclick = () => {
          const letter = choice.label.trim().charAt(0); // "A"..."D"
          answers[idx] = letter;
          idx++;
          render();
        };
        elC.appendChild(btn);
      });
    } else {
      // result
      const counts = {A:0,B:0,C:0,D:0};
      answers.forEach(a => counts[a]++);
      // max
      const max = Math.max(counts.A,counts.B,counts.C,counts.D);
      const tied = Object.keys(counts).filter(k => counts[k] === max);
      // tie -> beginner優先
      tied.sort((x,y)=> tiePriority.indexOf(x)-tiePriority.indexOf(y));
      const win = tied[0];
      const res = resultMap[win];

      elBadge.textContent = "結果";
      elBar.style.width = "100%";

      elQ.innerHTML = `
        <p class="resultTitle">あなたの結果</p>
        <p class="resultType">【${res.type}】 <span class="pill">A:${counts.A} B:${counts.B} C:${counts.C} D:${counts.D}</span></p>
      `;

      elC.innerHTML = "";
      const pre = document.createElement("div");
      pre.style.whiteSpace = "pre-wrap";
      pre.style.lineHeight = "1.65";
      pre.textContent = res.comment;
      elC.appendChild(pre);

      const a = document.createElement("a");
      a.href = LINE_URL;
      a.className = "cta";
      a.textContent = "このタイプの人が最初にやるべき1手を聞く";
      a.target = "_blank";
      elC.appendChild(a);
    }
  }

  backBtn.addEventListener("click", () => {
    if (idx > 0) idx--;
    render();
  });

  resetBtn.addEventListener("click", () => {
    idx = 0;
    answers.length = 0;
    render();
  });

  render();
</script>
</body>
</html>
